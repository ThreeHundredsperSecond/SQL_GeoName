# SQL_GeoName
# Описание проекта
## Цель:

Сопоставление произвольных гео названий с унифицированными именами geonames для внутреннего использования Карьерным центром

## Задачи:

- cоздать решение для подбора наиболее подходящих названий с geonames. Например Ереван -> Yerevan
- на примере РФ и стран наиболее популярных для релокации - Беларусь, Армения, Казахстан, Кыргызстан, Турция, Сербия. Города с населением от 15000 человек (с возможностью масштабирования на сервере заказчика)
- возвращаемые поля geonameid, name, region, country, cosine similarity, возможно добавление других полей
- формат данных на выходе: список словарей или датафрейм

## Задачи опционально:

- возможность настройки количества выдачи подходящих названий (например в параметрах метода)
- коррекция ошибок и опечаток. Например Моченгорск -> Monchegorsk
- хранение в PostgreSQL данных geonames
- хранение векторизованных промежуточных данных в PostgreSQL
- предусмотреть методы для настройки подключения к БД
- предусмотреть метод для инициализации класса (первичная векторизация geonames)
- предусмотреть методы для добавления векторов новых гео названий

## Используемый стек

  `Python`, `Pandas`, `Picle`, `SQLAlchemy`, `Torch`, `Sentence_transformers`, `Fuzzywuzzy`


# Шаги Решения
[Тетрадь с решением](https://github.com/ThreeHundredsperSecond/SQL_GeoName/blob/main/%D1%82%D0%B5%D1%82%D1%80%D0%B0%D0%B4%D1%8C/Final_Geoname.ipynb)
1. Построение базы данных PostgresSQL.
2. Дообучение модели SentenceTransformer LaBSE с целью ее использования для семантического поиска.
3. Создания класса GoeSearch, который осуществляет подключение к базе данных, сопоставляет гео названий с унифицированными именами geonames, двумя способами на выбора(Расстояние Левенштейна или семантический поиск) и  сохраняет результат в базе данных. Описания класса можно найти в [здесь](https://github.com/ThreeHundredsperSecond/SQL_GeoName/blob/main/class_GeoSearch/GeoSearch.py).
4. Произведено тестирования класса  GoeSearch, а также проверена точность сопоставлений гео названий.

